---
import Navbar from "@components/Navbar.astro";
import Layout from "@layouts/Layout.astro";
import PageFind from "@components/PageFind.astro";

const allPosts = await Astro.glob("./blog/*.md");
---

<Layout title="所有文章">
  <Navbar />

  <main class="container mx-auto px-4 py-8">
    <h1 class="text-3xl font-bold mb-8 text-center">所有文章</h1>

    <PageFind />

    <div class="columns-1 sm:columns-2 lg:columns-3 gap-6">
      <a
        href="/bahasa/bahasa_project"
        class="bg-white dark:bg-gray-800 rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 overflow-hidden block mb-6 break-inside-avoid"
      >
        <div class="p-6">
          <h2 class="text-2xl font-semibold mb-3 text-gray-900 dark:text-white">
            语言学习项目
          </h2>
          <p class="text-gray-600 dark:text-gray-400">
            探索语言学习的新方法和技巧，提高您的语言能力。
          </p>
        </div>
      </a>

      {allPosts
        .sort((a, b) => new Date(b.frontmatter.date).getTime() - new Date(a.frontmatter.date).getTime())
        .map((post) => (
          <a
            href={post.url}
            class="bg-white dark:bg-gray-800 rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 overflow-hidden block mb-6 break-inside-avoid"
          >
            <div class="p-6">
              <h2 class="text-xl font-semibold mb-2 text-gray-900 dark:text-white">
                {post.frontmatter.title}
              </h2>
              <p class="text-gray-600 dark:text-gray-400 mb-4">
                {post.frontmatter.description || "No description available"}
              </p>
            </div>
            <div class="px-6 pb-4">
              <div class="flex justify-between items-center text-sm text-gray-500 dark:text-gray-400">
                <span>{new Date(post.frontmatter.date).toLocaleDateString()}</span>
                {/* <ViewCount /> */}
              </div>
            </div>
          </a>
        ))}
    </div>
  </main>
</Layout>

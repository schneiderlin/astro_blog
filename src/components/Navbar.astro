---
import { getLangFromUrl, useTranslations } from '../i18n/utils';

const lang = getLangFromUrl(Astro.url) || 'en';
console.log(lang);
const t = useTranslations(lang);
---

<nav class="bg-primary-400">
  <div class="flex flex-wrap items-center justify-between mx-auto py-4 px-8">
    <!-- 左边的 icon 加文字 -->
    <a
      href="/"
      class="flex items-center space-x-3 rtl:space-x-reverse"
    >
      <img src="/favicon.svg" class="h-8" alt="LinZiHao's Digital Garden" />
      <span class="self-center text-2xl font-semibold whitespace-nowrap"
        >LinZiHao's Digital Garden</span
      >
    </a>

    <!-- 小屏幕的时候看到的 menu icon -->
    <button
      data-collapse-toggle="navbar-default"
      type="button"
      class="inline-flex items-center p-2 w-10 h-10 justify-center text-sm rounded-lg md:hidden hover:bg-primary-100"
      aria-controls="navbar-default"
      aria-expanded="false"
    >
      <!-- screen reader 用的 -->
      <span class="sr-only">打开菜单</span>
      <svg
        class="w-5 h-5"
        aria-hidden="true"
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 17 14"
      >
        <path
          stroke="currentColor"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M1 1h15M1 7h15M1 13h15"></path>
      </svg>
    </button>

    <!-- 右边的 菜单 -->
    <div class="w-full md:block md:w-auto" id="navbar-default">
      <ul
        class="flex flex-col p-4 md:p-0 mt-4 border md:flex-row md:space-x-8 rtl:space-x-reverse md:mt-0 md:border-0"
      >
        <li>
          <a
            href="/"
            class="block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0"
            aria-current="page"
            >{ t('nav.home') }</a
          >
        </li>
        <li>
          <a
            href={`/about_${lang}`}
            class="block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0"
            >{ t('nav.about') }</a
          >
        </li>
      </ul>
    </div>
  </div>
</nav>
